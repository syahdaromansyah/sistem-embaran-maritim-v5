<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/favicon.png" type="image/png" />
    <title>Semar - Sistem Embaran Maritim | Dashboard</title>

    <!-- Fontawesome -->
    <script
      src="https://kit.fontawesome.com/10bc053434.js"
      crossorigin="anonymous"
    ></script>

    <!-- CSS -->
    <link rel="stylesheet" href="/pages/user/dist/css/output.css" />
  </head>
  <body class="bg-slate-100 shadow shadow-slate-200">
    <div id="app">
      <!-- Navigation Page -->
      <nav
        class="fixed top-0 left-0 w-full bg-slate-50/25 shadow shadow-slate-200 backdrop-blur"
      >
        <!-- Navigation Page Container -->
        <div class="container mx-auto px-8">
          <div class="flex items-center justify-between py-3.5">
            <!-- Navigation Page Left -->
            <a
              href="/pages/user/dashboardrangkuman/"
              class="inline-block py-1 transition duration-300 focus:outline-none focus:ring focus:ring-sky-300 focus:ring-offset-2 focus:ring-offset-slate-50"
            >
              <img
                src="/pages/user/dist/img/LOGO-SEMAR.png"
                alt="SEMAR-Sistem Embaran Maritim"
                class="h-11"
              />
            </a>
            <!-- Navigation Page Right -->
            <div class="flex items-center px-4">
              <button id="hamburger" name="hamburger" type="button">
                <span
                  class="hamburger-line origin-top-left transition duration-300 ease-in-out"
                ></span>
                <span
                  class="hamburger-line transition duration-300 ease-in-out"
                ></span>
                <span
                  class="hamburger-line origin-bottom-left transition duration-300 ease-in-out"
                ></span>
              </button>
            </div>
          </div>
        </div>
      </nav>
      <!-- Navigation Menu -->
      <div
        id="nav-menu"
        class="fixed right-0 top-20 hidden h-full w-72 items-center bg-sky-900 text-slate-50"
      >
        <div class="p-7">
          <div class="flex items-center py-5">
            <img
              src="/pages/user/dist/img/user.png"
              alt="Profile"
              class="mr-4 w-11 rounded"
            />
            <div>
              <p class="profile-name text-lg font-semibold">Admin</p>
              <p class="profile-role text-xs">Role : Admin</p>
            </div>
          </div>
          <ul class="mt-4">
            <li
              class="my-2 rounded-xl py-1 px-7 hover:bg-slate-100 hover:text-sky-900"
              onclick=""
            >
              <a href="#" class="flex items-center">
                <i class="fa-solid fa-grip icon-slate-50 fa-lg pr-2"></i>
                <p>Dashboard</p>
              </a>
            </li>
            <li
              class="my-2 rounded-xl py-1 px-7 hover:bg-slate-100 hover:text-sky-900"
              onclick=""
            >
              <a href="/pages/user/dashboardpeta/" class="flex items-center">
                <i class="fa-solid fa-map icon-slate-50 pr-2"></i>
                <p>Peta</p>
              </a>
            </li>
            <li
              class="admin-menu-only my-2 rounded-xl py-1 px-7 hover:bg-slate-100 hover:text-sky-900"
            >
              <a href="/pages/user-manage/" class="flex items-center">
                <i class="fa-solid fa-user-gear icon-slate-50 fa-lg mr-2"></i>
                <p>Management User</p>
              </a>
            </li>
            <li
              class="admin-menu-only my-2 rounded-xl py-1 px-7 hover:bg-slate-100 hover:text-sky-900"
            >
              <a href="/pages/user/validasi-data/" class="flex items-center">
                <i class="fa-solid fa-clipboard icon-slate-50 fa-lg mr-2"></i>
                <p>Validasi Data</p>
              </a>
            </li>
            <li
              class="my-2 rounded-xl py-1 px-7 hover:bg-slate-100 hover:text-sky-900"
            >
              <a href="/pages/user/info/" class="flex items-center">
                <i class="fa-solid fa-circle-info icon-slate-50 fa-lg mr-2"></i>
                <p>Info</p>
              </a>
            </li>
            <li
              class="my-2 rounded-xl py-1 px-7 hover:bg-slate-100 hover:text-sky-900"
            >
              <button class="logout-btn flex items-center">
                <i
                  class="fa-solid fa-right-from-bracket icon-slate-50 fa-lg mr-2"
                ></i>
                <p>Logout</p>
              </button>
            </li>
          </ul>
        </div>
      </div>

      <!-- Content -->
      <div class="container mx-auto my-36 lg:px-36">
        <!-- Content Top -->
        <div class="flex items-center justify-between text-slate-700">
          <!-- Content Top Left -->
          <div>
            <div>
              <i class="fa-solid fa-cloud-sun fa-3x"></i>
            </div>
            <div class="px-14">
              <p class="text-3xl font-bold">30°</p>
              <!-- Dropdown -->
              <div>
                <select
                  name="kota"
                  id="kota"
                  class="mr-2 bg-transparent text-3xl font-bold"
                >
                  <option value="Pasteur" class="bg-slate-100 text-lg">
                    Pasteur
                  </option>
                  <option value="Arcamanik" class="bg-slate-100 text-lg">
                    Arcamanik
                  </option>
                  <option value="Antapani" class="bg-slate-100 text-lg">
                    Antapani
                  </option>
                  <option value="Buah Batu" class="bg-slate-100 text-lg">
                    Buah Batu
                  </option>
                  <option value="Sukajadi" class="bg-slate-100 text-lg">
                    Sukajadi
                  </option>
                  <option value="Kopo" class="bg-slate-100 text-lg">
                    Kopo
                  </option>
                  <option value="Bojong Soang" class="bg-slate-100 text-lg">
                    Bojong Soang
                  </option>
                  <option value="Cibiru" class="bg-slate-100 text-lg">
                    Cibiru
                  </option>
                  <option value="Ujungberung" class="bg-slate-100 text-lg">
                    Ujungberung
                  </option>
                </select>
              </div>
              <p>Jl.Buah Batu</p>
            </div>
          </div>
          <!-- Content Top Right -->
          <div>
            <p class="jam text-3xl font-bold"></p>
            <p class="tanggalwaktu"></p>
          </div>
        </div>
        <!-- Content Center -->
        <div class="my-12 flex items-center justify-evenly text-sky-800">
          <a href="#" class="hover:ring-2 hover:ring-sky-800">
            <div class="rounded bg-slate-50 py-7 px-11 shadow shadow-slate-200">
              <div class="text-center">
                <i class="fa-solid fa-stopwatch fa-2x"></i>
              </div>
              <div class="my-2 text-center">
                <p class="text-xl">
                  <span class="nilai-k-swell font-semibold"></span>m
                </p>
                <p class="text-sm">Gelombang</p>
              </div>
              <div class="text-center">
                <i class="fa-solid fa-location-arrow fa-2x -rotate-90"></i>
              </div>
            </div>
          </a>
          <a href="#" class="hover:ring-2 hover:ring-sky-800">
            <div class="rounded bg-slate-50 py-7 px-11 shadow shadow-slate-200">
              <div class="text-center">
                <i class="fa-solid fa-temperature-half fa-2x"></i>
              </div>
              <div class="my-2 text-center">
                <p class="text-xl"><span class="font-semibold">2.5</span>m/s</p>
                <p class="text-sm">Angin</p>
              </div>
              <div class="text-center">
                <i class="fa-solid fa-location-arrow fa-2x"></i>
              </div>
            </div>
          </a>
          <a href="#" class="hover:ring-2 hover:ring-sky-800">
            <div
              class="rounded bg-slate-50 py-11 px-11 shadow shadow-slate-200"
            >
              <div class="text-center">
                <i class="fa-solid fa-temperature-half fa-2x"></i>
              </div>
              <div class="my-2 text-center">
                <p class="text-xl"><span class="font-semibold">15.5</span>°C</p>
                <p class="text-sm">Temperatur</p>
              </div>
            </div>
          </a>
          <a href="#" class="hover:ring-2 hover:ring-sky-800">
            <div class="rounded bg-slate-50 py-7 px-11 shadow shadow-slate-200">
              <div class="text-center">
                <i class="fa-solid fa-water fa-2x"></i>
              </div>
              <div class="my-2 text-center">
                <p class="text-xl"><span class="font-semibold">0.1</span>m/s</p>
                <p class="text-sm">Arus</p>
              </div>
              <div class="text-center">
                <i class="fa-solid fa-location-arrow fa-2x rotate-90"></i>
              </div>
            </div>
          </a>
        </div>
        <!-- Content Bottom -->
        <div class="my-8">
          <p class="text-center text-2xl font-bold text-slate-700">
            Temperatur
          </p>
          <div>
            <canvas id="myChart"></canvas>
          </div>
        </div>

        <!-- Footer -->
        <footer>
          <p class="py-7 text-center font-bold">
            &#169;BRIN, Hak cipta dilindungi.
          </p>
        </footer>
      </div>
    </div>

    <!-- js -->
    <script type="module" src="/pages/user/dist/js/script.js"></script>
    <script
      type="module"
      src="/pages/user/dist/js/getCurrentWeather.js"
    ></script>
    <script
      type="module"
      src="/pages/user/dist/js/updateInformasiCuaca.js"
    ></script>

    <!-- Chart Js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script type="module">
      // Setup Block
      const labels = ['30/07/2022', '31/07/2022', '01/08/2022', '02/08/2022'];
      const data = {
        labels: labels,
        datasets: [
          {
            label: 'My First dataset',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [1, 4, 3, 5],
          },
        ],
      };
      // Config block
      const config = {
        type: 'line',
        data,
        options: {
          plugins: {
            legend: {
              display: false,
            },
          },
        },
      };

      // Render Block
      var myChart = new Chart(document.getElementById('myChart'), config);
    </script>

    <script type="module">
      import { format } from 'date-fns';

      const tanggalwaktu = document.querySelector('.tanggalwaktu');
      const jam = document.querySelector('.jam');

      tanggalwaktu.textContent = format(new Date(), 'dd/MM/yyyy');
      jam.textContent = format(new Date(), 'kk.mm');

      const profileName = document.querySelector('.profile-name');
      const profileRole = document.querySelector('.profile-role');

      profileName.textContent =
        window.localStorage.getItem('current-user-name');
      profileRole.textContent =
        window.localStorage.getItem('current-user-role');

      const logOutBtn = document.querySelector('.logout-btn');

      logOutBtn.addEventListener('click', () => {
        window.localStorage.setItem('current-user-name', '');
        window.localStorage.setItem('current-user-role', '');
        window.localStorage.setItem('current-user-remember', 'false');

        window.location.replace('/');
      });

      const adminMenuOnly = document.querySelectorAll('.admin-menu-only');
      const isAdmin = window.localStorage.getItem('current-user-role');
      if (isAdmin.toLowerCase() !== 'admin') {
        adminMenuOnly.forEach((menu) => menu.classList.add('hidden'));
      }

      const isLogin = window.localStorage.getItem('current-user-name');
      if (isLogin === '') {
        window.location.replace('/');
      }
    </script>
  </body>
</html>
